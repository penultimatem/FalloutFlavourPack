<?xml version="1.0" encoding="utf-8"?>
<Patch>
	<!-- Possible overkill - FIP replaces the entire def, so instead, we restore the original with the FIP changes integrated -->
	<!-- Deathbot ThingDef -->
	<Operation Class="PatchOperationReplace">
		<xpath>/Defs/ThingDef[defName="Mech_Apocriton"]</xpath>
		<value>
			<ThingDef ParentName="BaseMechanoidWalker">
				<defName>Mech_Apocriton</defName>
				<label>Deathbot</label>
				<description>It's a robot, it will be your death, it's a Deathbot, no more questions.</description>
				<statBases>
					<MarketValue>1600</MarketValue>
					<MoveSpeed>2</MoveSpeed>
					<EnergyShieldRechargeRate>0.25</EnergyShieldRechargeRate>
					<EnergyShieldEnergyMax>1.5</EnergyShieldEnergyMax>
					<BandwidthCost>2</BandwidthCost>
					<ControlTakingTime>18</ControlTakingTime>
					<EMPResistance>0.8</EMPResistance>
					<ArmorRating_Blunt>0.40</ArmorRating_Blunt>
					<ArmorRating_Sharp>0.75</ArmorRating_Sharp>
				</statBases>
				<race>
					<body>Sentrybot</body>
					<mechWeightClass>UltraHeavy</mechWeightClass>
					<lifeStageAges Inherit="False">
						<li>
							<def>MechanoidFullyFormed</def>
							<minAge>0</minAge>
							<soundWounded>Sentrybot_Wounded</soundWounded>
							<soundDeath>Sentrybot_Death</soundDeath>
							<soundCall>Sentrybot_Call</soundCall>
							<soundAngry>Sentrybot_Angry</soundAngry>
						</li>
						<li>
							<def>MechanoidFullyFormed</def>
							<minAge>100</minAge>
							<soundWounded>Sentrybot_Wounded</soundWounded>
							<soundDeath>Sentrybot_Death</soundDeath>
							<soundCall>Sentrybot_Call</soundCall>
							<soundAngry>Sentrybot_Angry</soundAngry>
						</li>
					</lifeStageAges>
					<baseHealthScale>5</baseHealthScale>
					<soundAmbience>Pawn_Mech_Apocriton_Ambience</soundAmbience>
					<detritusLeavings>
						<li>
							<def>ChunkMechanoidSlag</def>
							<texOverrideIndex>15</texOverrideIndex>
							<spawnChance>0.1</spawnChance>
						</li>
						<li>
							<def>ChunkMechanoidSlag</def>
							<texOverrideIndex>8</texOverrideIndex>
							<spawnChance>0.1</spawnChance>
						</li>
						<li>
							<def>ChunkMechanoidSlag</def>
							<texOverrideIndex>13</texOverrideIndex>
							<spawnChance>0.1</spawnChance>
						</li>
					</detritusLeavings>
				</race>
				<tools>
					<li>
						<label>head</label>
						<capacities>
							<li>Blunt</li>
						</capacities>
						<power>9</power>
						<cooldownTime>2.6</cooldownTime>
						<linkedBodyPartsGroup>HeadAttackTool</linkedBodyPartsGroup>
						<ensureLinkedBodyPartsGroupAlwaysUsable>true</ensureLinkedBodyPartsGroupAlwaysUsable>
					</li>
				</tools>
				<killedLeavingsPlayerHostile>
					<NanostructuringChip>1</NanostructuringChip>
				</killedLeavingsPlayerHostile>
				<comps>
					<li Class="CompProperties_Explosive">
						<wickTicks>0</wickTicks>
						<explosiveRadius>30.9</explosiveRadius>
						<explodeOnKilled>true</explodeOnKilled>
						<explosiveDamageType>MechBandShockwave</explosiveDamageType>
						<propagationSpeed>0.5</propagationSpeed>
						<chanceNeverExplodeFromDamage>1</chanceNeverExplodeFromDamage>
						<extraInspectStringKey>MechStunPulseWarning</extraInspectStringKey>
					</li>
					<li Class="CompProperties_Effecter">
						<effecterDef>ApocrionAttached</effecterDef>
					</li>
				</comps>
			</ThingDef>
		</value>
	</Operation>
	<!-- Deathbot PawnKindDef -->
	<Operation Class="PatchOperationReplace">
		<xpath>/Defs/PawnKindDef[defName="Mech_Apocriton"]</xpath>
		<value>
			<PawnKindDef ParentName="BaseMechanoidKind">
				<defName>Mech_Apocriton</defName>
				<label>Deathbot</label>
				<race>Mech_Apocriton</race>
				<combatPower>600</combatPower>
				<maxPerGroup>3</maxPerGroup>
				<isBoss>true</isBoss>
				<allowInMechClusters>false</allowInMechClusters>
				<lifeStages>
					<li>
						<bodyGraphicData>
							<texPath>RobCo/SentrybotBoss/SentrybotBoss</texPath>
							<shaderType>CutoutWithOverlay</shaderType>
							<graphicClass>Graphic_Multi</graphicClass>
							<drawSize>2</drawSize>
							<shadowData>
								<volume>(0.3, 0.4, 0.3)</volume>
								<offset>(0,0,-0.25)</offset>
							</shadowData>
						</bodyGraphicData>
					</li>
					<li>
						<bodyGraphicData>
							<texPath>RobCo/SentrybotBoss/SentrybotBoss</texPath>
							<shaderType>CutoutWithOverlay</shaderType>
							<graphicClass>Graphic_Multi</graphicClass>
							<drawSize>2</drawSize>
							<shadowData>
								<volume>(0.3, 0.4, 0.3)</volume>
								<offset>(0,0,-0.25)</offset>
							</shadowData>
						</bodyGraphicData>
					</li>
				</lifeStages>
				<weaponMoney>9999~9999</weaponMoney>
				<weaponTags>
					<li>MechanoidGunShortRange</li>
				</weaponTags>
				<techHediffsChance>1</techHediffsChance>
				<techHediffsMoney>9999~9999</techHediffsMoney>
				<!-- <abilities>
					<li>LongjumpMech</li>
					<li>ResurrectionMech</li>
				</abilities> -->
				<skipResistant>true</skipResistant>
			</PawnKindDef>
		</value>
	</Operation>
</Patch>